<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="/logo.png"/><link rel="stylesheet" href="/_next/static/css/b5216fccc75973a8.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-d25ab00dc518c53b.js" crossorigin=""/><script src="/_next/static/chunks/8766613a-1f3d501627fe8359.js" async="" crossorigin=""></script><script src="/_next/static/chunks/381-13ef6dc2135231f9.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-a7e7392d4f7d6817.js" async="" crossorigin=""></script><script src="/_next/static/chunks/app/md/multirepo.vs.monorepo/page-efbcb33bef57e8cc.js" async=""></script><script src="/_next/static/chunks/418-07bc9b6e0a2b3c23.js" async=""></script><script src="/_next/static/chunks/app/page-7600fbbd5c5fdc5b.js" async=""></script><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"/><title>Careless Whisper | Vsion</title><meta name="description" content="sui-sui-nian"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body><header class="header_header__RtJAw"><nav class="header_nav__8A_Ry"><a href="/"><img height="64" width="64" alt="vsion" class="header_logo__LJoqt" src="/logo.png"/></a></nav></header><div class="__className_e66fe9 page"><div class="container md"><h2>MultiRepo VS MonoRepo</h2>
<table style="border-collapse:collapse;width:800px"><thead><tr style="background-color:#f6f6f6"><th style="border:1px solid #f6f6f6;padding:8px;text-align:left;width:120px">场景</th><th style="border:1px solid #f6f6f6;padding:8px;text-align:left">MultiRepo</th><th style="border:1px solid #f6f6f6;padding:8px;text-align:left">MonoRepo</th></tr></thead><tbody><tr><td style="border:1px solid #f6f6f6;padding:8px">代码可见性</td><td style="border:1px solid #f6f6f6;padding:8px">✅ 代码隔离，研发者只需关注自己负责的仓库<br/>❌ 包管理按照各自owner划分，当出现问题时，需要到依赖包中进行判断并解决。</td><td style="border:1px solid #f6f6f6;padding:8px">✅ 一个仓库中多个相关项目，很容易看到整个代码库的变化趋势，更好的团队协作。<br/>❌ 增加了非owner改动代码的风险</td></tr><tr style="background-color:#f6f6f6"><td style="border:1px solid #f6f6f6;padding:8px">依赖管理</td><td style="border:1px solid #f6f6f6;padding:8px">❌ 多个仓库都有自己的 node_modules，存在依赖重复安装情况，占用磁盘内存大。</td><td style="border:1px solid #f6f6f6;padding:8px">✅ 多项目代码都在一个仓库中，相同版本依赖提升到顶层只安装一次，节省磁盘内存</td></tr><tr><td style="border:1px solid #f6f6f6;padding:8px">代码权限</td><td style="border:1px solid #f6f6f6;padding:8px">✅ 各项目单独仓库，不会出现代码被误改的情况，单个项目出现问题不会影响其他项目。</td><td style="border:1px solid #f6f6f6;padding:8px">❌ 多个项目代码都在一个仓库中，没有项目粒度的权限管控，一个项目出问题，可能影响所有项目。</td></tr><tr style="background-color:#f6f6f6"><td style="border:1px solid #f6f6f6;padding:8px">开发迭代</td><td style="border:1px solid #f6f6f6;padding:8px">✅ 仓库体积小，模块划分清晰，可维护性强。<br/>❌ 多仓库来回切换（编辑器及命令行），项目多的话效率很低。多仓库见存在依赖时，需要手动 <code>npm link</code>，操作繁琐。<br/>❌ 依赖管理不便，多个依赖可能在多个仓库中存在不同版本，重复安装，npm link 时不同项目的依赖会存在冲突。</td><td style="border:1px solid #f6f6f6;padding:8px">✅ 多个项目都在一个仓库中，可看到相关项目全貌，编码非常方便。<br/>✅ 代码复用高，方便进行代码重构。<br/>❌ 多项目在一个仓库中，代码体积多大几个 G，<code>git clone</code>时间较长。<br/>✅ 依赖调试方便，依赖包迭代场景下，借助工具自动 npm link，直接使用最新版本依赖，简化了操作流程。</td></tr><tr><td style="border:1px solid #f6f6f6;padding:8px">工程配置</td><td style="border:1px solid #f6f6f6;padding:8px">❌ 各项目构建、打包、代码校验都各自维护，不一致时会导致代码差异或构建差异。</td><td style="border:1px solid #f6f6f6;padding:8px">✅ 多项目在一个仓库，工程配置一致，代码质量标准及风格也很容易一致。</td></tr><tr style="background-color:#f6f6f6"><td style="border:1px solid #f6f6f6;padding:8px">构建部署</td><td style="border:1px solid #f6f6f6;padding:8px">❌ 多个项目间存在依赖，部署时需要手动到不同的仓库根据先后顺序去修改版本及进行部署，操作繁琐效率低。</td><td style="border:1px solid #f6f6f6;padding:8px">✅ 构建性 Monorepo 工具可以配置依赖项目的构建优先级，可以实现一次命令完成所有的部署。</td></tr></tbody></table>
<p>综合如上 Monorepo VS MultiRepo，<strong>中大型项目</strong>，<strong>多模块项目</strong>，更适合用 MonoRepo 方式管理代码，在开发、协作效率、代码一致性方面都能受益。</p></div></div><script src="/_next/static/chunks/webpack-d25ab00dc518c53b.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/b5216fccc75973a8.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:I[8898,[],\"\"]\n5:I[8762,[],\"\"]\n6:I[4810,[\"987\",\"static/chunks/app/md/multirepo.vs.monorepo/page-efbcb33bef57e8cc.js\"],\"\"]\n7:I[3346,[],\"\"]\n8:I[812,[],\"\"]\n9:I[2142,[\"418\",\"static/chunks/418-07bc9b6e0a2b3c23.js\",\"931\",\"static/chunks/app/page-7600fbbd5c5fdc5b.js\"],\"\"]\nb:I[9410,[],\"\"]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b5216fccc75973a8.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"JvWBRRMr2RCMIGphx4xX7\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/md/multirepo.vs.monorepo\",\"initialTree\":[\"\",{\"children\":[\"md\",{\"children\":[\"multirepo.vs.monorepo\",{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"md\",{\"children\":[\"multirepo.vs.monorepo\",{\"children\":[\"__PAGE__\",{},[\"$L4\",[\"$\",\"$L5\",null,{\"propsForComponent\":{\"params\":{}},\"Component\":\"$6\",\"isStaticGeneration\":true}],null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"md\",\"children\",\"multirepo.vs.monorepo\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"md\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"link\",null,{\"rel\":\"shortcut icon\",\"type\":\"image/x-icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"body\",null,{\"children\":[[\"$\",\"header\",null,{\"className\":\"header_header__RtJAw\",\"children\":[\"$\",\"nav\",null,{\"className\":\"header_nav__8A_Ry\",\"children\":[\"$\",\"$L9\",null,{\"href\":\"/\",\"replace\":true,\"children\":[\"$\",\"img\",null,{\"height\":64,\"width\":64,\"alt\":\"vsion\",\"className\":\"header_logo__LJoqt\",\"src\":\"/logo.png\"}]}]}]}],[\"$\",\"div\",null,{\"className\":\"__className_e66fe9 page\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}]]}]]}],null]],\"initialHead\":[false,\"$La\"],\"globalErrorComponent\":\"$b\"}]]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Careless Whisper | Vsion\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"sui-sui-nian\"}]]\n4:null\n"])</script><script>self.__next_f.push([1,""])</script></body></html>